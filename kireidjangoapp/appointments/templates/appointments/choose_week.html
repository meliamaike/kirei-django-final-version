{% extends "home/base.html" %}
{% load appointment_tags %}


{% block content %}

<h1>Eleg√≠ el horario</h1>

    {% for week in weeks %}
    <div>
    
        <button class="week-link" data-week-start-date="{{ week.dates.0 }}">{{ week.dates.0|format_date }} - {{ week.dates|last|format_date }}</button>

    </div>
{% endfor %}


<script>
    document.addEventListener('DOMContentLoaded', function() {
      const weekLinks = document.querySelectorAll('.week-link');
      weekLinks.forEach(function(link) {
        link.addEventListener('click', function(e) {
          e.preventDefault();
          const weekStartDate = this.dataset.weekStartDate;
          const url = "/booking/slot/"+{{professional_id}}+`/${weekStartDate}`;
          window.location.href = url;
        });
      });
    });
  </script>
  
{% endblock %}


